# Catalog URLs

The URLs for products and catalog are generated by a central URL service system.

## Usage

When a Twig template requests a URL, as described in [Catalog UI](../../catalog_ui/catalog_ui.md),
the [URL service](../catalog_urls/catalog_urls.md) is called in the background.

URLs are provided by special methods enclosed in `catalogElement`:

- SEO URL `{{ catalogElement.seoUrl }}`
- Permanent URL `{{ catalogElement.permanentUrl }}`

Accessing the `seoUrl()` or `permanentUrl()` method of a `catalogElement` triggers the generation of the appropriate URL.

``` php
$seoUrlOfAProduct = $aProductNode.getSeoUrl();
```

## Configuration

The service uses a configuration file to specify the logic of generating SEO URLs and permanent URLs. 

The configuration file `silver.eshop.yml` provides two settings:

``` yaml
parameters:
    silver_eshop.default.path_prefix_seo: /silver.catalog
    silver_eshop.default.path_prefix_permanent: /silver.catalog/Products
```

The parameter `silver_eshop.default.path_prefix_seo` provides a prefix for all catalog URLs.
In this case the URLs for the catalog always start with the prefix `/silver.catalog`.

In addition to this the routing may have to be changed if the prefix changes:

``` yaml
silversolutionsEshopBundle:
    pattern: /silver.catalog/{url}
    defaults:
        _controller: SilversolutionsEshopBundle:Catalog:show
        url: %silver_eshop.default.url_silver_catalog%
    requirements:
        url: ".+"
```

The placeholder for the `{url}` parameter is set in `silver.eshop.yml`:

``` yaml
parameters:
    silver_eshop.default.url_silver_catalog: Products
```
